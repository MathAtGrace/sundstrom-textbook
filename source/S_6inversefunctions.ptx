<?xml version="1.0" encoding="UTF-8" ?>

<section xml:id="S_inversefunctions">
  <title>Inverse Functions</title>
  <introduction>
    <p>
      For this section,
      we will use the concept of Cartesian product of two sets <m>A</m> and <m>B</m>,
      denoted by <m>A \times B</m>,
      which is the set of all ordered pairs <m>(x, y)</m> where <m>x \in A</m> and <m>y \in B</m>.
      That is, <m>A \times B = \left\{ { {\left( {x,y} \right)} \mid x \in A\text{ and } y \in B} \right\}</m>.
      See <xref text="custom" ref="PA_cartesianproduct">Beginning Activity 2</xref>
      in <xref ref="S_cartesian"></xref>
      for a more thorough discussion of this concept.
    </p>
  </introduction>

    <worksheet margin="1in" xml:id="PA_functionasordered">
      <title>Beginning Activity 1: Functions and Sets of Ordered Pairs</title>
      <p>
        When we graph a real function,
        we plot ordered pairs in the Cartesian plane where the first coordinate is the 
        input of the function and the second coordinate is the output of the function.
        For example, if <m>g\x \mathbb{R} \to \mathbb{R}</m>,
        then every point on the graph of <m>g</m> is an ordered pair
        <m>( {x, y} )</m> of real numbers where <m>y = g( x )</m>.
        This shows how we can generate ordered pairs from a function.
        It happens that we can do this with any function.
        For example, let
        <me>
          A = \left\{ {1, 2, 3} \right\} \text{ and }  B = \left\{ {a, b} \right\}
        </me>.
  
        Define the function <m>F\x A \to B</m> by
        <me>
          F( 1 ) = a, F( 2 ) = b,  \text{ and } F( 3 ) = b
        </me>.
      </p>
      <p>
        We can convert each of these to an ordered pair in
        <m>A \times B</m> by using the input as the first coordinate and the output as the 
        second coordinate.
        For example, <m>F( 1 ) = a</m> is converted to <m>( 1, a )</m>,
        <m>F( 2 ) = b</m> is converted to <m>( 2, b )</m>,
        and <m>F( 3 ) = b</m> is converted to <m>( 3, b )</m>.
        So we can think of this function as a set of ordered pairs,
        which is a subset of <m>A \times B</m>, and write
        <me>
          F = \left\{ {( {1, a} ), ( {2, b} ), ( {3, b} )} \right\}\!
        </me>.
      </p>
      <p>
        Note: Since <m>F</m> is the name of the function,
        it is customary to use <m>F</m> as the name for the set of ordered pairs.
      </p>
        <exercise>
          <statement>
            <p>
              Let <m>A = \left\{ {1, 2, 3} \right\}</m> and let <m>C = \left\{ {a, b, c, d} \right\}</m>.
              Define the function <m>g\x A \to C</m> by <m>g( 1 ) = a</m>,
              <m>g( 2 ) = b</m>, and <m>g( 3 ) = d</m>.
              Write the function <m>g</m> as a set of ordered pairs in <m>A \times C</m>.
            </p>
          </statement>
        </exercise>

      <p>
        For another example, if we have a real function,
        such as <m>g\x \mathbb{R} \to \mathbb{R}</m> by <m>g( x ) = x^2  - 2</m>,
        then we can think of <m>g</m> as the following infinite subset of 
        <m>\mathbb{R} \times \mathbb{R}</m>:
        <me>
          g = \left\{ { {( {x, y} ) \in \mathbb{R} \times \mathbb{R}} \mid y = x^2  - 2} \right\}\!
        </me>.

        We can also write this as <m>g = \left\{ {( {x, x^2 - 2} )} \mid x \in \mathbb{R} \right\}</m>.
      </p>
        <exercise>
          <statement>
            <p>
              Let <m>f\x \Z \to \Z</m> be defined by
              <m>f(m) = 3m +5</m>, for all <m>m \in \Z</m>.
              Use set builder notation to write the function <m>f</m> as a set of ordered pairs,
              and then use the roster method to write the function <m>f</m> as a set of ordered pairs.
            </p>
          </statement>
        </exercise>
      
      <p>
        So any function <m>f\x A \to B</m> can be thought of as a set of ordered pairs that is a 
        subset of <m>A \times B</m>.
        This subset is
        <me>
          f = \left\{ { {( {a, f( a )} ) } \mid a \in A} \right\}  \text{ or } f = \left\{ {( {a, b} ) \in A \times B   \mid b = f( a )} \right\}\!
        </me>.

        On the other hand,
        if we started with <m>A = \left\{ {1, 2, 3} \right\}</m>,
        <m>B = \left\{ {a, b} \right\}</m>, and
        <me>
          G = \left\{ {( {1, a} ), ( {2, a} ), ( {3, b} )} \right\} \subseteq A \times B
        </me>,
        then we could think of <m>G</m> as a function from <m>A</m> to <m>B</m> with 
        <m>G( 1 ) = a</m>,
        <m>G( 2 ) = a</m>, and <m>G( 3 ) = b</m>.
        The idea is to use the first coordinate of each ordered pair as the input,
        and the second coordinate as the output.
        However, not every subset of
        <m>A \times B</m> can be used to define a function from <m>A</m> to <m>B</m>.
        This is explored in the following questions.
      </p>
        <exercise>
          <statement>
            <p>
              Let <m>f = \left\{ {( {1, a} ), ( {2, a} ), ( {3, a} ), ( {1, b} )} \right\}</m>.
              Could this set of ordered pairs be used to define a function from <m>A</m> to <m>B</m>?
              Explain.
            </p>
          </statement>
        </exercise>
        <exercise>
          <statement>
            <p>
              Let <m>g = \left\{ {( {1, a} ), ( {2, b} ), ( {3, a} )} \right\}</m>.
              Could this set of ordered pairs be used to define a function from <m>A</m> to <m>B</m>?
              Explain.
            </p>
          </statement>
        </exercise>
        <exercise>
          <statement>
            <p>
              Let <m>h = \left\{ {( {1, a} ), ( {2, b} )} \right\}</m>.
              Could this set of ordered pairs be used to define a function from <m>A</m> to <m>B</m>?
              Explain.
            </p>
          </statement>
        </exercise>

    </worksheet>

    <worksheet margin="1in" xml:id="PA_compositionoftwo">
      <title>Beginning Activity 2: A Composition of Two Specific Functions</title>
      <p>
        Let <m>A = \left\{ {a, b, c, d} \right\}</m> and let <m>B = \left\{ {p, q, r, s} \right\}</m>.
      </p>
        <exercise>
          <statement>
            <p>
              Construct an example of a function <m>f\x A \to B</m> that is a bijection.
              Draw an arrow diagram for this function.
            </p>
          </statement>
        </exercise>
        <exercise xml:id="PA_compositionoftwo2">
          <statement>
            <p>
              On your arrow diagram,
              draw an arrow from each element of <m>B</m> back to its corresponding element in <m>A</m>.
              Explain why this defines a function from <m>B</m> to <m>A</m>.
            </p>
          </statement>
        </exercise>
        <exercise>
          <statement>
            <p>
              If the name of the function in <xref ref="PA_compositionoftwo2"></xref> is <m>g</m>,
              so that <m>g\x B \to A</m>,
              what are <m>g( p )</m>, <m>g( q )</m>,
              <m>g( r )</m>, and <m>g( s )</m>?
            </p>
          </statement>
        </exercise>
        <exercise xml:id="PA_compositionoftwo4">
          <statement>
            <p>
              Construct a table of values for each of the functions
              <m>g \circ f\x A \to A</m> and <m>f \circ g\x B \to B</m>.
              What do you observe about these tables of values?
            </p>
          </statement>
        </exercise>

    </worksheet>

  <subsection>
    <title>The Ordered Pair Representation of a Function</title>
    <idx><h>function</h><h>as set of ordered pairs</h></idx>
    <p>
          
      In <xref text="custom" ref="PA_functionasordered">Beginning Activity 1</xref>,
      we observed that if we have a function <m>f\x A \to B</m>,
      we can generate a set of ordered pairs <m>f</m> that is a subset of <m>A \times B</m> as follows:
      <me>
        f = \left\{ { {\left( {a, f( a )} \right)} \mid a \in A} \right\}  \text{ or } 
        f = \left\{ {( {a, b} ) \in A \times B \mid b = f( a )} \right\}\!
      </me>.
    </p>
    <p>
      However, we also learned that some sets of ordered pairs cannot be used to define a function.
      We now wish to explore under what conditions a set of ordered pairs can be used to define a function.
      Starting with a function <m>f\x  A \to B</m>,
      since <m>\text{ dom} ( f ) = A</m>, we know that
      <me xml:id="eq_65a">
        \text{ For every }   a \in A, \text{ there exists a }   b \in B  \text{ such that } ( {a, b} ) 
        \in f \qquad (1)
      </me>.
    </p>
    <p>
      Specifically, we use <m>b = f( a )</m>.
      This says that every element of <m>A</m> can be used as an input.
      In addition, to be a function,
      each input can produce only one output.
      In terms of ordered pairs,
      this means that there will never be two ordered pairs <m>( {a, b} )</m> and
      <m>( {a, c} )</m> in the function <m>f</m> where <m>a \in A</m>, <m>b,
      c \in B</m>, and <m>b \ne c</m>.
      We can formulate this as a conditional statement as follows:
      <md>
        <mrow number="no">\amp \text{ For every }  a \in A \text{ and every }  b, c \in B, \amp \amp</mrow>
        <mrow xml:id="eq_65b">\amp \text{ if }  ( {a, b} ) \in f  \text{ and }  ( {a, c} ) 
        \in f, \text{ then }  b = c \amp \amp (2)</mrow>
      </md>
    </p>
    <p>
      This also means that if we start with a subset <m>f</m> of
      <m>A \times B</m> that satisfies conditions (1) and 
      (2),
      then we can consider <m>f</m> to be a function from <m>A</m> to <m>B</m> by using
      <m>b = f( a )</m> whenever <m>( {a, b} )</m> is in <m>f</m>.
      This proves the following theorem.
    </p>

    <theorem xml:id="T_functionasordered">
      <statement>
        <p>
          Let <m>A</m> and <m>B</m> be nonempty sets and let <m>f</m> be a subset of
          <m>A \times B</m> that satisfies the following two properties:
          <ul>
            <li>
              <p>
                For every <m>a \in A</m>,
                there exists <m>b \in B</m> such that <m>( {a, b} ) \in f</m>; and
              </p>
            </li>
            <li>
              <p>
                For every <m>a \in A</m> and every <m>b, c \in B</m>,
                if <m>( {a,\;b} ) \in f</m> and <m>( {a, c} ) \in f</m>,
                then <m>b = c</m>.
              </p>
            </li>
          </ul>
        </p>
        <p>
          If we use <m>f( a ) = b</m> whenever <m>( {a, b} ) \in f</m>,
          then <m>f</m> is a function from <m>A</m> to <m>B</m>.
        </p>
      </statement>
    </theorem>
    <p>
      A Note about <xref ref="T_functionasordered"></xref>.
      The first condition in <xref ref="T_functionasordered"></xref>
      means that every element of <m>A</m> is an input,
      and the second condition ensures that every input has exactly one output.
      Many texts will use <xref ref="T_functionasordered"></xref>
      as the definition of a function.
      Many mathematicians believe that this ordered pair representation of a function is the 
      most rigorous definition of a function.
      It allows us to use set theory to work with and compare functions.
      For example,
      equality of functions becomes a question of equality of sets.
      Therefore, many textbooks will use the ordered pair representation of a function as the 
      definition of a function.
    </p>

    <exercise xml:id="prog_ordered">
      <title>Sets of Ordered Pairs that Are Not Functions</title>
      <introduction>
      <p>
        Let <m>A = \left\{ {1, 2, 3} \right\}</m> and let <m>B = \left\{ {a, b} \right\}</m>.
        Explain why each of the following subsets of
        <m>A \times B</m> cannot be used to define a function from <m>A</m> to <m>B</m>.
      </p>
      </introduction>
        
          <task>
            <statement>
            <p>
              <m>F = \left\{ {( {1, a} ), ( {2, a} )} \right\}</m>.
            </p>
            </statement>
            <solution>
              <p>
                The set <m>F</m> does not satisfy the first condition of 
                <xref ref="T_functionasordered"></xref>.
              </p>
            </solution>
          </task>
          <task>
            <statement>
            <p>
              <m>G = \left\{ {( {1, a} ), ( {2, b} ), ( {3, c} ), ( {2, c} )} \right\}</m>.
            </p>
            </statement>
            <solution>
              <p>
                The set <m>G</m> does not satisfy the second condition of 
                <xref ref="T_functionasordered"></xref>.
              </p>
            </solution>
          </task>

  
    </exercise>

  </subsection>

  <subsection>
    <title>The Inverse of a Function</title>
    <p>
      In previous mathematics courses,
      we learned that the exponential function
      (with base <m>e</m>)
      and the natural logarithm function are inverses of each other.
      This was often expressed as follows:
      <md>
        <mrow>\amp \text{ For each }  x \in \R \text{ with }  x > 0 \text{ and for each }  y \in \R,</mrow>
        <mrow>\amp y = \ln x \text{ if and only if }  x = e^y</mrow>
      </md>.
    </p>
    <p>
      Notice that this means that <m>x</m> is the input and <m>y</m> is the output for the 
      natural logarithm function if and only if <m>y</m> is the input and <m>x</m> is the 
      output for the exponential function.
      In essence, the inverse function
      (in this case, the exponential function)
      reverses the action of the original function
      (in this case, the natural logarithm function).
      In terms of ordered pairs (input-output pairs),
      this means that if <m>( {x, y} )</m> is an ordered pair for a function,
      then <m>( {y, x} )</m> is an ordered pair for its inverse.
      This idea of reversing the roles of the first and second coordinates is the basis for 
      our definition of the inverse of a function.
    </p>
    <assemblage xml:id="inversefunction">
      <title>Definition</title>
        <p>
          Let <m>f\x A \to B</m> be a function.
          The <term>inverse of <m>\boldsymbol{f}</m></term>,
              <idx><h>inverse of a function</h></idx>
              <idx><h>function</h><h>inverse of</h></idx> 
          denoted by <m>f^{ - 1}</m>, is the set of ordered pairs 
          <m>\left\{ { {( {b, a} ) \in B \times A} \mid f( a ) = b} \right\}</m>.
          That is,
          <me>
            f^{ - 1}  = \left\{ { {( {b, a} ) \in B \times A} \mid f( a ) = b} \right\}\!
          </me>.
        </p>
        <p>
          If we use the ordered pair representation for <m>f</m>,
          we could also write
          <me>
            f^{ - 1}  = \left\{ { {( {b, a} ) \in B \times A} \mid ( {a, b} ) \in f} \right\}\!
          </me>.
        </p>
    </assemblage>

    <p>
      Notice that this definition does not state that <m>f^{ - 1}</m> is a function.
      It is simply a subset of <m>B \times A</m>.
      After we study the material in <xref ref="C_equivrelations"></xref>,
      we will say that this means that
      <m>f^{ - 1}</m> is a <term>relation</term>
      from <m>B</m> to <m>A</m>.
      This fact, however, is not important to us now.
      We are mainly interested in the following question:
      <assemblage>
        <p>
        Under what conditions will the inverse of the function
        <m>f\x A \to B</m> be a function from <m>B</m> to <m>A</m>?
        </p>
      </assemblage>
    </p>

    <exercise xml:id="prog_exploringinverse">
      <title>Exploring the Inverse of a Function</title>
      <introduction>
      <p>
        Let <m>A = \left\{ {a, b, c} \right\}</m>,
        <m>B = \left\{ {a,b,c,d} \right\}</m>,
        and <m>C = \left\{ {p, q, r} \right\}</m>.
        Define
      </p>
      <tabular>
        <row>
          <cell right="medium"><m>f\x A \to C</m> by</cell>
          <cell right="medium"><m>g\x A \to C</m> by</cell>
          <cell><m>h\x B \to C</m> by</cell>
        </row>
        <row>
          <cell right="medium"><m>f( a ) = r</m></cell>
          <cell right="medium"><m>g( a ) = p</m></cell>
          <cell><m>h( a ) = p</m></cell>
        </row>
        <row>
          <cell right="medium"><m>f( b ) = p</m></cell>
          <cell right="medium"><m>g( b ) = q</m></cell>
          <cell><m>h( b ) = q</m></cell>
        </row>
        <row>
          <cell right="medium"><m>f( c ) = q</m></cell>
          <cell right="medium"><m>g( c ) = p</m></cell>
          <cell><m>h( c ) = r</m></cell>
        </row>
        <row>
          <cell right="medium"></cell>
          <cell right="medium"></cell>
          <cell><m>h( d ) = q</m></cell>
        </row>
      </tabular>
      </introduction>
      
      
        <task xml:id="A_exploringinverse1">
          <p>
            Draw an arrow diagram for each function.
          </p>
        </task>
        <task>
          <statement>
          <p>
            Determine the inverse of each function as a set of ordered pairs.
          </p>
          </statement>
          <solution>
            <p>
              <m>f^{ - 1} = \left\{ {( {r, a} ), ( {p, b} ), ( {q, c} )} \right\}</m>
            </p>
            <p>
              <m>g^{ - 1} = \left\{ {( {p, a} ), ( {q, b} ), ( {p, c} )} \right\}</m> 
            </p>
            <p>
              <m>h^{ - 1} = \left\{ {( {p, a} ), ( {q, b} ), ( {r, c} ), ( {q, d} )} \right\}</m>
            </p>
          </solution>
        </task>

        <task xml:id="A_exploringinverse3">
          <introduction>
            <p>
              Explain each of the following.
            </p>
          </introduction>
         
            <task>
              <statement>
              <p>
                Is <m>f^{ - 1}</m> a function from <m>C</m> to <m>A</m>?
                Explain.
              </p>
              </statement>
              <solution>
                <p>
                  <m>f^{ - 1}</m> is a function from <m>C</m> to <m>A</m>.
                </p>
              </solution>
            </task>
            <task>
              <statement>
              <p>
                Is <m>g^{ - 1}</m> a function from <m>C</m> to <m>A</m>?
                Explain.
              </p>
              </statement>
              <solution>
                <p>
                  <m>g^{ - 1}</m> is not a function from <m>C</m> to <m>A</m> since
                  <m>( {p, a} ) \in g^{ - 1}</m>and <m>( {p, c} ) \in g^{ - 1}</m>.
                </p>
              </solution>
            </task>
            <task>
              <statement>
              <p>
                Is <m>h^{ - 1}</m> a function from <m>C</m> to <m>B</m>?
                Explain.
              </p>
              </statement>
              <solution>
                <p>
                  <m>h^{ - 1}</m> is not a function from <m>C</m> to <m>B</m> since
                  <m>( {q, b} ) \in h^{ - 1}</m> and <m>( {q, d} ) \in h^{ - 1}</m>.
                </p>
              </solution>
            </task>
          
        </task>
        <task>
          <p>
            Draw an arrow diagram for each inverse from <xref ref="A_exploringinverse3"/> that is a function.
            Use your existing arrow diagram from <xref ref="A_exploringinverse1"/> to draw this arrow diagram.
          </p>
        </task>
        <task>
          <statement>
          <p>
            Make a conjecture about what conditions on a function
            <m>F\x S \to T</m> will ensure that its inverse is a function from <m>T</m> to <m>S</m>.
          </p>
          </statement>
          <solution>
            <p>
              In order for the inverse of a function
              <m>F:S \to T</m> to be a function from <m>T</m> to <m>S</m>,
              the function <m>F</m> must be a bijection.
            </p>
          </solution>
        </task>

    </exercise>

    <p>
      We will now consider a general argument suggested by the explorations in 
      <xref ref="prog_exploringinverse"></xref>.
      By definition, if <m>f\x A \to B</m> is a function,
      then <m>f^{ - 1}</m> is a subset of <m>B \times A</m>.
      However, <m>f^{ - 1}</m> may or may not be a function from <m>B</m> to <m>A</m>.
      For example, suppose that <m>s,
      t \in A</m> with <m>s \ne t</m> and <m>f( s ) = f( t )</m>.
      This is represented in <xref ref="fig_inversenotfunction"></xref>.
    </p>
    <figure xml:id="fig_inversenotfunction">
      <caption>The Inverse Is Not a Function</caption>
      <image width="50%" source="figps-noinverse"/>
    </figure>
    <p>
      In this case, if we try to reverse the arrows,
      we will not get a function from <m>B</m> to <m>A</m>.
      This is because <m>( {y, s} ) \in f^{ - 1}</m> and <m>( {y, t} ) \in f^{ - 1}</m> 
      with <m>s \ne t</m>.
      Consequently, <m>f^{ - 1}</m> is not a function.
      This suggests that when <m>f</m> is not an injection,
      then <m>f^{ - 1}</m> is not a function.
    </p>
    <p>
      Also, if <m>f</m> is not a surjection,
      then there exists a <m>z \in B</m> such that
      <m>f( a ) \ne z</m> for all <m>a \in A</m>,
      as in the diagram in <xref ref="fig_inversenotfunction"></xref>.
      In other words,
      there is no ordered pair in <m>f</m> with <m>z</m> as the second coordinate.
      This means that there would be no ordered pair in
      <m>f^{ - 1}</m> with <m>z</m> as a first coordinate.
      Consequently,
      <m>f^{ - 1}</m> cannot be a function from <m>B</m> to <m>A</m>.
    </p>
    <p>
      This motivates the statement in <xref ref="T_inverseandbijection"></xref>.
      In the proof of this theorem,
      we will frequently change back and forth from the input-output representation of a function and the ordered pair representation of a function.
      The idea is that if <m>G\x S \to T</m> is a function,
      then for <m>s \in S</m> and <m>t \in T</m>,
      <me>
        G( s ) = t  \text{ if and only if }   ( {s, t} ) \in G
      </me>.
    </p>
    <p>
      When we use the ordered pair representation of a function,
      we will also use the ordered pair representation of its inverse.
      In this case, we know that
      <me>
        ( {s, t} ) \in G\text{ if and only if } ( {t, s} ) \in G^{ - 1}
      </me>.
    </p>
    <theorem xml:id="T_inverseandbijection">
      <statement>
        <p>
          Let <m>A</m> and <m>B</m> be nonempty sets and let <m>f\x A \to B</m>.
          The inverse of <m>f</m> is a function from <m>B</m> to <m>A</m> if and only if 
          <m>f</m> is a bijection.
        </p>
      </statement>
    
    <proof>
      <p>
        Let <m>A</m> and <m>B</m> be nonempty sets and let <m>f\x A \to B</m>.
        We will first assume that <m>f</m> is a bijection and prove that
        <m>f^{ - 1}</m> is a function from <m>B</m> to <m>A</m>.
        To do this, we will show that
        <m>f^{ - 1}</m> satisfies the two conditions of <xref ref="T_functionasordered"></xref>.
      </p>
      <p>
        We first choose <m>b \in B</m>.
        Since the function <m>f</m> is a surjection,
        there exists an <m>a \in A</m> such that <m>f( a ) = b</m>.
        This implies that <m>( {a, b} ) \in f</m> and hence that <m>( {b, a} ) \in f^{ - 1}</m>.
        Thus, each element of <m>B</m> is the first coordinate of an ordered pair in <m>f^{ - 1}</m>,
        and hence <m>f^{ - 1}</m> satisfies the first condition of <xref ref="T_functionasordered"></xref>.
      </p>
      <p>
        To prove that <m>f^{ - 1}</m> satisfies the second condition of <xref ref="T_functionasordered"></xref>,
        we must show that each element of <m>B</m> is the first coordinate of exactly one 
        ordered pair in <m>f^{ - 1}</m>.
        So let <m>b \in B</m>, <m>a_1 , a_2  \in A</m> and assume that
        <me>
          ( {b, a_1 } ) \in f^{ - 1} \text{ and }  ( {b, a_2 } ) \in f^{ - 1}
        </me>.

        This means that <m>( {a_1 , b} ) \in f</m> and <m>( {a_2 , b} ) \in f</m>.
        We can then conclude that
        <me>
          f( {a_1 } ) = b\text{ and } f( {a_2 } ) = b
        </me>.

        But this means that <m>f( {a_1 } ) = f( {a_2 } )</m>.
        Since <m>f</m> is a bijection,
        it is an injection, and we can conclude that <m>a_1 = a_2</m>.
        This proves that <m>b</m> is the first element of only one ordered pair in <m>f^{ - 1}</m>.
        Consequently, we have proved that
        <m>f^{ - 1}</m> satisfies both conditions of <xref ref="T_functionasordered"></xref>
        and hence that <m>f^{ - 1}</m> is a function from <m>B</m> to <m>A</m>.
      </p>
      <p>
        We now assume that <m>f^{ - 1}</m> is a function from <m>B</m> to <m>A</m> and prove that <m>f</m> is a bijection.
        First, to prove that <m>f</m> is an injection,
        we assume that <m>a_1 , a_2  \in A</m> and that <m>f( {a_1 } ) = f( {a_2 } )</m>.
        We wish to show that <m>a_1  = a_2</m>.
        If we let <m>b = f( {a_1 } ) = f( {a_2 } )</m>, we can conclude that
        <me>
          ( {a_1 , b} ) \in f \text{ and } ( {a_2 , b} ) \in f
        </me>.

        But this means that
        <me>
          ( {b, a_1 } ) \in f^{ - 1} \text{ and } ( {b, a_2 } ) \in f^{ - 1}
        </me>.

        Since we have assumed that <m>f^{ - 1}</m> is a function,
        we can conclude that <m>a_1 = a_2</m>.
        Hence, <m>f</m> is an injection.
      </p>
      <p>
        Now to prove that <m>f</m> is a surjection,
        we choose <m>b \in B</m> and will show that there exists an <m>a \in A</m> such 
        that <m>f( a ) = b</m>.
        Since <m>f^{ - 1}</m> is a function,
        <m>b</m> must be the first coordinate of some ordered pair in <m>f^{ - 1}</m>.
        Consequently, there exists an <m>a \in A</m> such that
        <me>
          ( {b, a} ) \in f^{ - 1}
        </me>.
 
        Now this implies that <m>( {a, b} ) \in f</m> and hence that <m>f( a ) = b</m>.
        This proves that <m>f</m> is a surjection.
        Since we have also proved that <m>f</m> is an injection,
        we conclude that <m>f</m> is a bijection. 
      </p>
    </proof>
    </theorem>
  </subsection>

  <subsection>
    <title>Inverse Function Notation</title>
    <p>
      In the situation where <m>f\x A \to B</m> is a bijection and
      <m>f^{ - 1}</m> is a function from <m>B</m> to <m>A</m>,
      we can write <m>f^{ - 1} \x B \to A</m>.
      In this case, we frequently say that <m>f</m> is an
      <term>invertible function</term>,
          <idx><h>invertible function</h></idx>
          <idx><h>function</h><h>invertible</h></idx>
      and we usually do not use the ordered pair representation for either <m>f</m> or <m>f^{ - 1}</m>.
      Instead of writing <m>( {a, b} ) \in f</m>,
      we write <m>f( a ) = b</m>,
      and instead of writing <m>( {b, a} ) \in f^{ - 1}</m>,
      we write <m>f^{ - 1} ( b ) = a</m>.
      Using the fact that <m>( {a, b} ) \in f</m> if and only if <m>( {b, a} ) \in f^{ - 1}</m>,
      we can now write <m>f( a ) = b</m> if and only if <m>f^{ - 1} ( b ) = a</m>.
      We summarize this in <xref ref="T_inversenotation"></xref>.
    </p>

    <theorem xml:id="T_inversenotation">
      <statement>
        <p>
          Let <m>A</m> and <m>B</m> be nonempty sets and let <m>f\x A \to B</m> be a bijection.
          Then <m>f^{ - 1} \x B \to A</m> is a function,
          and for every <m>a \in A</m> and <m>b \in B</m>,
          <me>
            f( a ) = b  \text{ if and only if }  f^{ - 1} ( b ) = a
          </me>.
        </p>
      </statement>
    </theorem>

    <example xml:id="exam_inversenotation">
      <title>Inverse Function Notation</title>
      <statement>
        <p>
          For an example of the use of the notation in <xref ref="T_inversenotation"></xref>,
          let <m>\R^ + = \left\{ { {x \in \R} \mid x > 0} \right\}</m>.
          Define

          <me>f\x \R \to \R \text{ by } f( x ) = x^3;
          \text{ and } g\x \R \to \R^ + \text{ by }g( x ) = e^x</me>.

          Notice that <m>\R^+</m> is the codomain of <m>g</m>.
          We can then say that both <m>f</m> and <m>g</m> are bijections.
          Consequently,
          the inverses of these functions are also functions.
          In fact, <m>f^{ - 1} \x \R \to \R</m> by <m>f^{ - 1} ( y ) = \sqrt[3]{y}</m>;
          and <m>g^{ - 1} \x \R^ + \to \R</m> by <m>g^{ - 1} ( y ) = \ln y</m>.

          For each function
          (and its inverse),
          we can write the result of <xref ref="T_inversenotation"></xref> as follows:
        </p>
        <tabular>
          <row bottom="medium">
            <cell right="medium"><xref ref="T_inversenotation"></xref></cell>
            <cell>Translates to:</cell>
          </row>
          <row>
            <cell right="medium"><line>For  <m>x, y \in \R</m>,  <m>f( x ) = y</m></line>
            <line>if and only if <m>f^{ - 1} ( y ) = x</m>.</line></cell> 
            <cell><line>For <m>x, y \in \R</m>,  <m>x^3  = y</m></line>
            <line>if and only if <m>\sqrt[3]{y} = x</m>.</line></cell>
          </row>
          <row>
            <cell right="medium"><line>For <m>x \in \R, y \in \R^ +</m>,  <m>g( x ) = y</m></line>
            <line>if and only if  <m>g^{ - 1} ( y ) = x</m>.</line></cell>
            <cell><line>For <m>x \in \R, y \in \R^ +</m>, <m>e^x  = y</m></line>
            <line>if and only if  <m>\ln y = x</m>.</line></cell>
          </row>
        </tabular>
      </statement>

    </example>

  </subsection>

  <subsection>
    <title>Theorems about Inverse Functions</title>
    <p>
      The next two results in this section are two important theorems about inverse functions.
      The first is actually a corollary of <xref ref="T_inversenotation"></xref>.
    </p>

    <corollary xml:id="C_inversecomposition">
      <statement>
        <p>
          Let <m>A</m> and <m>B</m> be nonempty sets and let <m>f\x A \to B</m> be a bijection.
          Then
          <ol>
            <li xml:id="C_inversecomposition1">
              <p>
                For every <m>x</m> in <m>A</m>,
                <m>\left( f^{ - 1} \circ f \right)(x) = x</m>.
              </p>
            </li>
            <li xml:id="C_inversecomposition2">
              <p>
                For every <m>y</m> in <m>B</m>,
                <m>\left( f \circ f^{ - 1}\right)(y) = y</m>.
              </p>
            </li>
          </ol>
        </p>
      </statement>
    
    <proof>
      <p>
        Let <m>A</m> and <m>B</m> be nonempty sets and assume that <m>f\x A \to B</m> is a bijection.
        So let <m>x \in A</m> and let <m>f( x ) = y</m>.
        By <xref ref="T_inversenotation"></xref>,
        we can conclude that <m>f^{ - 1} ( y ) = x</m>.
        Therefore,
        <md>
          <mrow>\left( {f^{ - 1}  \circ f} \right)( x ) \amp = f^{ - 1} \! \left( {f( x )} \right)</mrow>
          <mrow> \amp = f^{-1}( y )</mrow>
          <mrow> \amp = x</mrow>
        </md>.
        Hence, for each <m>x \in A</m>,
        <m>\left( {f^{ - 1} \circ f} \right)( x ) = x</m>.
      </p>
      <p>
        The proof that for each <m>y</m> in <m>B</m>,
        <m>\left( f \circ f^{ - 1}\right)(y) = y</m> is <xref ref="exer_inversecomposition"/>.
         
      </p>
    </proof>
    </corollary>

    <!-- Added statement in first paragarph. -->
    <example xml:id="exam_inversenotation2">
      <statement>
      <p>
        This example is a continuation of <xref ref="exam_inversenotation"/>.
      </p>
        <p>
          For the cubing function and the cube root function,
          we have seen that For <m>x, y \in \R</m>,
          <m>x^3 = y</m> if and only if <m>\sqrt[3]{y} = x</m>.
          Notice that
          <ul>
            <li>
              <p>
                If we substitute <m>x^3 = y</m> into the equation <m>\sqrt[3]{y} = x</m>,
                we obtain <m>\sqrt[3]{{x^3 }} = x</m>.
              </p>
            </li>
            <li>
              <p>
                If we substitute <m>\sqrt[3]{y} = x</m> into the equation <m>x^3 = y</m>,
                we obtain <m>\left( {\sqrt[3]{y}} \right)^3 = y</m>.
              </p>
            </li>
          </ul>
        </p>
        <p>
          This is an illustration of <xref ref="C_inversecomposition"></xref>.
          We can see this by using <m>f\x \R \to \R</m> defined by <m>f( x ) = x^3</m> and
          <m>f^{ - 1} \x \R \to \R</m> defined by <m>f^{ - 1} ( y ) = \sqrt[3]{y}</m>.
          Then <m>f^{ - 1}  \circ f\x \R \to \R</m> and <m>f^{ - 1}  \circ f = I_\R</m>.
          So for each <m>x \in \R</m>,
          <md>
            <mrow>\left( {f^{ - 1}  \circ f} \right)( x ) \amp = x</mrow>
            <mrow>f^{ - 1} \! \left( {f( x )} \right) \amp = x</mrow>
            <mrow>f^{ - 1} \!\left( {x^3 } \right) \amp = x</mrow>
            <mrow>\sqrt[3]{{x^3 }} \amp = x</mrow>
          </md>
 
        </p>
        <p>
          Similarly, the equation <m>\left( {\sqrt[3]{y}} \right)^3 = y</m> for each
          <m>y \in \R</m> can be obtained from the fact that for each <m>y \in \R</m>,
          <m>(f \circ f^{ - 1})(y) = y</m>.
        </p>
      </statement>
    </example>

    <p>
      We will now consider the case where
      <m>f\x A \to B</m> and <m>g\x B \to C</m> are both bijections.
      In this case,
      <m>f^{ - 1} \x B \to A</m> and <m>g^{ - 1} \x C \to B</m>.
      <xref ref="fig_bijectioncomposition"></xref>
      can be used to illustrate this situation.
    </p>
    <figure xml:id="fig_bijectioncomposition">
      <caption>Composition of Two Bijections</caption>
      <image width="75%" source="figps-compinverse"/>
      <!-- Injection: each input has one output -->
      <!-- Surjection: each output in B has an input -->
      <!-- Bijection: both an injection and a surjection -->
    </figure>
    <p>
      By <xref ref="T_compositefunctions"></xref>,
      <m>g \circ f\x A \to C</m> is also a bijection.
      Hence, by <xref ref="T_inverseandbijection"></xref>,
      <m>( {g \circ f} )^{ - 1}</m> is a function and, in fact,
      <m>( {g \circ f} )^{ - 1} \x C \to A</m>.
      Notice that we can also form the composition of <m>g^{ - 1}</m> followed by
      <m>f^{ - 1}</m> to get <m>f^{ - 1} \circ g^{ - 1} \x C \to A</m>.
      <xref ref="fig_bijectioncomposition"></xref>
      helps illustrate the result of the next theorem.
    </p>

    <theorem xml:id="compositionofbijections">
      <statement>
        <p>
          Let <m>f\x A \to B</m> and <m>g\x B \to C</m> be bijections.
          Then <m>g \circ f</m> is a bijection and <m>( {g \circ f} )^{ - 1} = f^{ - 1} \circ g^{ - 1}</m>.
        </p>
      </statement>
    
    <proof>
      <p>
        Let <m>f\x A \to B</m> and <m>g\x B \to C</m> be bijections.
        Then <m>f^{ - 1} \x B \to A</m> and <m>g^{ - 1} \x C \to B</m>.
        Hence, <m>f^{ - 1} \circ g^{ - 1} \x C \to A</m>.
        Also, by <xref ref="T_compositefunctions"></xref>,
        <m>g \circ f\x A \to C</m> is a bijection,
        and hence <m>( {g \circ f} )^{ - 1} \x C \to A</m>.
        We will now prove that for each <m>z \in C</m>,
        <m>( {g \circ f} )^{ - 1} ( z ) = ( {f^{ - 1} \circ g^{ - 1} } )( z )</m>.
      </p>
      <p>
        Let <m>z \in C</m>.
        Since the function <m>g</m> is a surjection,
        there exists a <m>y \in B</m> such that
        <me xml:id="eq_compofbij1">
          g( y ) = z \qquad (1)
        </me>.
      </p>
      <p>
        Also, since <m>f</m> is a surjection,
        there exists an <m>x \in A</m> such that
        <me xml:id="eq_compofbij2">
          f( x ) = y \qquad (2)
        </me>.
      </p>
      <p>
        Now these two equations can be written in terms of the respective inverse functions as
        <md>
          <mrow xml:id="eq_compofbij3">g^{ - 1} ( z ) \amp = y; \text{ and } \amp \amp (3)</mrow>
          <mrow xml:id="eq_compofbij4">f^{ - 1} ( y ) \amp = x \amp \amp (4)</mrow>
        </md>
      </p>
      <p>
        Using equation (3) and equation (4), 
        we see that
        <md>
          <mrow>\left( {f^{ - 1}  \circ g^{ - 1} } \right)( z ) \amp 
          = f^{ - 1} \left( {g^{ - 1} ( z )} \right) \amp \amp</mrow>
          <mrow>\amp = f^{ - 1} ( y ) \amp \amp</mrow>
          <mrow xml:id="eq_compofbij5">\amp = x \amp \amp (5)</mrow>
        </md>.
      </p>
      <p>
        Using equation (1) and equation (2) again,
        we see that <m>( {g \circ f} )( x ) = z</m>.
        However, in terms of the inverse function, this means that
        <me xml:id="eq_compofbij6">
          ( {g \circ f} )^{ - 1} ( z ) = x \qquad (6)
        </me>.
      </p>
      <p>
        Comparing equation (5) and 
        equation (6), we have shown that for all <m>z \in C</m>,
      </p>
      <p>
        <m>( {g \circ f} )^{ - 1} ( z ) = ( {f^{ - 1} \circ g^{ - 1} } )( z )</m>.
        This proves that <m>( {g \circ f} )^{ - 1} = f^{ - 1} \circ g^{ - 1}</m>. 
      </p>
    </proof>
    </theorem>
  </subsection>

  <exercises>
    
    <exercise xml:id="exer_sec65-1">
      <introduction>
        <p>
          Let <m>A = \left\{ {1, 2, 3} \right\}</m> and <m>B = \left\{ {a, b, c} \right\}</m>.
        </p>
      </introduction>

      <task>
        <p>
          Construct an example of a function
          <m>f\x A \to B</m> that is not a bijection.
          Write the inverse of this function as a set of ordered pairs.
          Is the inverse of <m>f</m> a function?
          Explain.
          If so, draw an arrow diagram for <m>f</m> and <m>f^{ - 1}</m>.
        </p>
      </task>
      <task>
        <p>
          Construct an example of a function <m>g\x A \to B</m> that is a bijection.
          Write the inverse of this function as a set of ordered pairs.
          Is the inverse of <m>g</m> a function?
          Explain.
          If so, draw an arrow diagram for <m>g</m> and <m>g^{ - 1}</m>.
        </p>
      </task>
    </exercise>

    <exercise xml:id="exer_sec65-2">
      <introduction>
        <p>
          Let  <m>S = \left\{ {a, b, c, d} \right\}</m>.
          Define  <m>f\x S \to S</m> by defining  <m>f</m>  to be the following set of ordered pairs.
          <me>
            f = \left\{ {( {a, c} ), ( {b, b} ), ( {c, d} ), ( {d, a} )} \right\}
          </me>
        </p>
      </introduction>

      <task xml:id="exer_bijectiona">
        <p>
          Draw an arrow diagram to represent the function <m>f</m>.
          Is the function <m>f</m> a bijection?
        </p>
      </task>
      <task>
        <statement>
        <p>
          Write the inverse of <m>f</m> as a set of ordered pairs.
          Is <m>f^{ - 1}</m> a function?
          Explain.
        </p>
        </statement>
        <answer>
          <p>
            <m>f^{ - 1}  = \left\{ {( {c,a} ),( {b,b} ),( {d,c} ),( {a,d} )} \right\}</m>
          </p>
        </answer>
      </task>
      <task>
        <p>
          Draw an arrow diagram for <m>f^{ - 1}</m> using the arrow diagram from 
          <xref ref="exer_bijectiona"/>.
        </p>
      </task>
      <task>
        <statement>
        <p>
          Compute <m>\left( {f^{ - 1} \circ f} \right)( x )</m> and
          <m>\left( {f \circ f^{ - 1} } \right)( x )</m> for each <m>x</m> in <m>S</m>.
          What theorem does this illustrate?
        </p>
        </statement>
        <answer>
          <p>
            For each <m>x \in S</m>, <m>\left( {f^{ - 1}  \circ f} \right)( x ) = x 
            = ( {f \circ f^{ - 1} } )( x )</m>.  This illustrates
            <xref ref="C_inversecomposition"></xref>.
          </p>
        </answer>
      </task>
    </exercise>

    <exercise xml:id="exer_solveequation">
      <introduction>
        <p>
          Inverse functions can be used to help solve certain equations.
          The idea is to use an inverse function to undo the function.
        </p>
      </introduction>

      <task xml:id="exer_solveequationa">
        <statement>
        <p>
          Since the cube root function and the cubing function are inverses of each other,
          we can often use the cube root function to help solve an equation involving a cube.
          For example, the main step in solving the equation
          <me>
            ( {2t - 1} )^3  = 20
          </me>
          is to take the cube root of each side of the equation.
          This gives
          <md>
            <mrow>\sqrt[3]{{( {2t - 1} )^3 }} \amp = \sqrt[3]{{20}}</mrow>
            <mrow>2t - 1 \amp = \sqrt[3]{{20}}</mrow>
          </md>.
          Explain how this step in solving the equation is a use of 
          <xref ref="C_inversecomposition"></xref>.
        </p>
        </statement>
        <answer>
          <p>
            This is a use of <xref ref="C_inversecomposition"></xref>
            since the cube root function and the cubing function are inverse functions of each other and consequently,
            the composition of the cubing function with the cube root function is the identity function.
          </p>
        </answer>
      </task>
      <task xml:id="exer_solveequationb">
        <statement>
        <p>
          A main step in solving the equation
          <m>e^{2t - 1} = 20</m> is to take the natural logarithm of both sides of this equation.
          Explain how this step is a use of <xref ref="C_inversecomposition"></xref>,
          and then solve the resulting equation to obtain a solution for <m>t</m> in terms of the 
          natural logarithm function.
        </p>
        </statement>
        <answer>
          <p>
            This is a use of <xref ref="C_inversecomposition"></xref>
            since the natural logarithm function and the exponential function with base <m>e</m> 
            are inverse functions of each other and consequently,
            the composition of the natural logarithm function with the exponential function with 
            base <m>e</m> is the identity function.
          </p>
        </answer>
      </task>
      <task>
        <statement>
        <p>
          How are the methods of solving the equations in <xref ref="exer_solveequationa"/> 
          and <xref ref="exer_solveequationb"/> similar?
        </p>
        </statement>
        <answer>
          <p>
            They are similar because they both use the concept of an inverse function to
            <q>undo</q>
            one side of the equation.
          </p>
        </answer>
      </task>
    </exercise>

    <exercise xml:id="exer_inversecomposition">
      <statement>
        <p>
          Prove <xref ref="C_inversecomposition2"/> of <xref ref="C_inversecomposition"></xref>.
          Let <m>A</m> and <m>B</m> be nonempty sets and let <m>f\x A \to B</m> be a bijection.
          Then for every <m>y</m> in <m>B</m>,
          <m>\left( f \circ f^{ - 1}\right)(y) = y</m>.
        </p>
      </statement>
      <answer>
        <p>
          Using the notation from <xref ref="C_inversecomposition"></xref>, if <m>y = f(x)</m> and
          <m>x = f^{-1}(y)</m>, then
          <md>
            <mrow>\left(f \circ f^{-1} \right) (y) \amp = f ( f^{-1} ( y ) )</mrow>
            <mrow>\amp = f ( x )</mrow>
            <mrow>\amp = y</mrow>
          </md>
        </p>
      </answer>
    </exercise>

    <exercise xml:id="sym_idfunc1">
      <statement>
        <p>
          In <xref ref="pr_equalfunc"></xref>,
          we defined the identity function on a set.
          The <term>identity function on the set <m>\boldsymbol{T}</m></term>,
            <idx><h>identity function</h></idx>
          denoted by <m>I_T</m> , is the function <m>I_T \x T \to T</m> defined by
          <m>I_T ( t ) = t</m> for every <m>t</m> in <m>T</m>.
          Explain how <xref ref="C_inversecomposition"></xref>
          can be stated using the concept of equality of functions and the identity functions 
          on the sets <m>A</m> and <m>B</m>.
        </p>
      </statement>
    </exercise>

    <exercise xml:id="exer_compequalidentity">
      <introduction>
        <p>
          Let <m>f\x A \to B</m> and <m>g\x B \to A</m>.
          Let <m>I_A</m> and <m>I_B</m> be the identity functions on the sets <m>A</m> and <m>B</m>,
          respectively.
          Prove each of the following:
        </p>
      </introduction>

      <task>
        <statement>
        <p>
          If <m>g \circ f = I_A</m>, then <m>f</m> is an injection.
        </p>
        </statement>
        <answer>
          <p>
            Let <m>x, y \in A</m> and assume that
            <m>f ( x ) = f ( y )</m>.  Apply <m>g</m> to both sides of this equation to prove that
            <m>( g \circ f ) ( x ) = ( g \circ f ) ( y )</m>.
            Since <m>g \circ f = I_A</m>, this implies that <m>x = y</m> and hence that <m>f</m> 
            is an injection.
          </p>
        </answer>
      </task>
      <task>
        <statement>
        <p>
          If <m>f \circ g = I_B</m>, then <m>f</m> is a surjection.
        </p>
        </statement>
        <answer>
          <p>
            Start by assuming that <m>f \circ g = I_B</m>, and then let <m>y \in B</m>. 
            You need to prove there exists an <m>x \in A</m> such that <m>f ( x ) = y</m>.
          </p>
        </answer>
      </task>
      <task>
        <p>
          If <m>g \circ f = I_A</m> and <m>f \circ g = I_B</m>,
          then <m>f</m> and <m>g</m> are bijections and <m>g = f^{ - 1}</m>.
        </p>
      </task>
    </exercise>

    <exercise xml:id="exer_sec65-6">
      <introduction>
        <p>
          Justify your conclusions for the following.
        </p>
      </introduction>

      <task>
        <statement>
        <p>
          Define <m>f\x \mathbb{R} \to \mathbb{R}</m> by <m>f( x ) = e^{ - x^2 }</m>.
          Is the inverse of <m>f</m> a function?
        </p>
        </statement>
        <answer>
          <p>
            <m>f:\mathbb{R} \to \mathbb{R}</m> is defined by <m>f\left( x \right) = e^{ - x^2 }</m>.
            Since this function is not an injection,
            the inverse of <m>f</m> is not a function.
          </p>
        </answer>
      </task>
      <task>
        <statement>
        <p>
          Let <m>\mathbb{R}^* = \left\{ { {x \in \mathbb{R} } \mid x \geq 0} \right\}</m>.
          Define <m>g\x \mathbb{R}^* \to ( {0, 1} ]</m> by <m>g( x ) = e^{ - x^2 }</m>.
          Is the inverse of <m>g</m> a function?
        </p>
        </statement>
        <answer>
          <p>
            <m>g:\mathbb{R}^* \to \left( {0, 1} \right]</m> is defined by 
            <m>g\left( x \right) = e^{ - x^2 }</m>.
            In this case, <m>g</m> is a bijection and hence,
            the inverse of <m>g</m> is a function.
            To see that <m>g</m> is an injection, assume that
            <m>x,
            y \in \mathbb{R}^*</m> and that <m>e^{-x^2} = e^{-y^2}</m>.
            Then, <m>x^2 = y^2</m> and since
            <m>x,
            y \geq 0</m>, we see that <m>x = y</m>.
            To see that <m>g</m> is a surjection,
            let <m>y \in \left( 0, 1 \right]</m>.
            Then, <m>\ln y \lt 0</m> and <m>- \ln y > 0</m>,
            and <m>g \left( \sqrt{-\ln y} \right) = y</m>.
          </p>
        </answer>
      </task>
    </exercise>

    <exercise xml:id="exer_restrictdoma">
      <introduction>
        <p>
          Complete the following.
        </p>
      </introduction>

      <task>
        <p>
          Let <m>f\x \mathbb{R} \to \mathbb{R}</m> be defined by <m>f( x ) = x^2</m>.
          Explain why the inverse of <m>f</m> is not a function.
        </p>
      </task>
      <task xml:id="exer_restrictdomb">
        <p>
          Let <m>\R^* = \left \{ t \in \R \mid t \geq 0 \right\}</m>.
          Define <m>g \x \R^* \to \R^*</m> by <m>g(x) = x^2</m>.
          Explain why this squaring function
          (with a restricted domain and codomain)
          is a bijection.
        </p>
      </task>
      <task>
        <p>
          Explain how to define the square root function as the inverse of the function in 
          <xref ref="exer_restrictdomb"/>.
        </p>
      </task>
      <task>
        <p>
          True or false: <m>\left( \sqrt{x} \right)^2 = x</m> for all
          <m>x \in \mathbb{R}</m> such that <m>x \geq 0</m>.
        </p>
      </task>
      <task>
        <p>
          True or false:
          <m>\sqrt{x^2} = x</m> for all <m>x \in \mathbb{R}</m>.
        </p>
      </task>
    </exercise>

    <exercise xml:id="exer_finversebijection">
      <statement>
        <p>
          Prove the following:
          <blockquote>
            If <m>f\x A \to B</m> is a bijection, then <m>f^{ - 1} \x B \to A</m> is also a bijection.
          </blockquote>
        </p>
      </statement>
    </exercise>

    <exercise xml:id="exer_sec65-9">
      <statement>
        <p>
          For each natural number  <m>k</m>, let  <m>A_k</m> be a set,
          and for each natural number  <m>n</m>,
          let  <m>f_n \x A_n  \to A_{n + 1}</m>.
          For example,  <m>f_1 \x A_1  \to A_2</m>,
          <m>f_2 \x A_2  \to A_3</m>, <m>f_3 \x A_3  \to A_4</m>,
          and so on.
          Use mathematical induction to prove that for each natural number <m>n</m> with <m>n \geq 2</m>,
          if  <m>f_1 , f_2 ,  \ldots , f_n</m> are all bijections,
          then <m>f_n  \circ f_{n - 1}  \circ  \cdots  \circ f_2  \circ f_1</m> is a bijection and
          <me>
            ( {f_n  \circ f_{n - 1}  \circ  \cdots  \circ f_2  \circ f_1 } )^{ - 1}  = f_1^{ - 1}  
            \circ f_2^{ - 1}  \circ  \cdots  \circ f_{n - 1}^{ - 1}  \circ f_n^{ - 1}
          </me>.
        </p>
        <p>
          Note: This is an extension of <xref ref="compositionofbijections"></xref>.
          In fact, <xref ref="compositionofbijections"></xref>
          is the basis step of this proof for  <m>n = 2</m>.
        </p>
      </statement>
    </exercise>

    <exercise>
      <introduction>
        <p>
          Complete the following.
        </p>
      </introduction>

      <task>
        <p>
          Define <m>f\x \R \to \R</m> by
          <m>f(x) = x^2 - 4</m> for all <m>x \in \R</m>.
          Explain why the inverse of the function <m>f</m> is not a function.
        </p>
      </task>
      <task>
        <p>
          Let <m>\R^* = \left\{ x \in \R \mid x \geq 0 \right\}</m> and let 
          <m>T = \left\{ y \in \R \mid y \geq -4 \right\}</m>.
          Define <m>F\x \R^* \to T</m> by
          <m>F(x) = x^2 - 4</m> for all <m>x \in \R^*</m>.
          Explain why the inverse of the function <m>F</m> is a function and find a formula for
          <m>F^{-1}(y)</m>, where <m>y \in T</m>.
        </p>
      </task>
    </exercise>

    <exercise>
      <introduction>
        <p>
          Let <m>R_5 = \left\{ 0, 1, 2, 3, 4 \right\}</m>.
        </p>
      </introduction>

      <task>
        <p>
          Define <m>f\x R_5 \to R_5</m> by
          <m>f(x) = x^2 + 4 \pmod 5</m> for all <m>x \in R_5</m>.
          Write the inverse of <m>f</m> as a set of ordered pairs and explain why 
          <m>f^{-1}</m> is not a function.
        </p>
      </task>
      <task>
        <p>
          Define <m>g\x R_5 \to R_5</m> by
          <m>g(x) = x^3 + 4 \pmod 5</m> for all <m>x \in R_5</m>.
          Write the inverse of <m>g</m> as a set of ordered pairs and explain why <m>g^{-1}</m> 
          is a function.
        </p>
      </task>
      <task xml:id="exer_cuberootc">
        <p>
          Is it possible to write a formula for
          <m>g^{-1}(y)</m>, where <m>y \in R_5</m>?
          The answer to this question depends on whether or not it is possible to define a cube 
          root of elements of <m>R_5</m>.
          Recall that for a real number <m>x</m>,
          we define the cube root of <m>x</m> to be the real number <m>y</m> such that <m>y^3 = x</m>.
          That is, <me>y = \sqrt[3]{x} \text{ if and only if } y^3 = x</me>.
          Using this idea,
          is it possible to define the cube root of each number in <m>R_5</m>?
          If so, what are <m>\sqrt[3]{0}</m>, <m>\sqrt[3]{1}</m>,
          <m>\sqrt[3]{2}</m>, <m>\sqrt[3]{3}</m>, and <m>\sqrt[3]{4}</m>?
        </p>
      </task>
      <task>
        <p>
          Now answer the question posed at the beginning of <xref ref="exer_cuberootc"/>
          If possible, determine a formula for
          <m>g^{-1}(y)</m> where <m>g^{-1}\x R_5 \to R_5</m>.
        </p>
      </task>
    </exercise>

    <activity>
      <title>Constructing an Inverse Function</title>

      <introduction>
        <p>
          If <m>f\x A \to B</m> is a bijection,
          then we know that its inverse is a function.
          If we are given a formula for the function <m>f</m>,
          it may be desirable to determine a formula for the function <m>f^{ - 1}</m>.
          This can sometimes be done,
          while at other times it is very difficult or even impossible.
          Let <m>f\x \R \to \R</m> be defined by <m>f( x ) = 2x^3 - 7</m>.
          A graph of this function would suggest that this function is a bijection.
        </p>
      </introduction>

      <task>
        <p>
          Prove that the function <m>f</m> is an injection and a surjection.
        </p>
      </task>

      <task xml:id="A_constructinverse2">
        <p>
          Let <m>y \in \R</m>.
          One way to prove that <m>f</m> is a surjection is to set
          <m>y = f( x )</m> and solve for <m>x</m>.
          If this can be done, then we would know that there exists an
          <m>x \in \R</m> such that <m>f(x) = y</m>.
          For the function <m>f</m>,
          we are using <m>x</m> for the input and <m>y</m> for the output.
          By solving for <m>x</m> in terms of <m>y</m>,
          we are attempting to write a formula where <m>y</m> is the input and <m>x</m> is 
          the output.
          This formula represents the inverse function.
        </p>
        <p>
          Solve the equation <m>y = 2x^3 - 7</m> for <m>x</m>.
          Use this to write a formula for <m>f^{ - 1} ( y )</m>,
          where <m>f^{ - 1} \x \R \to \R</m>.
        </p>
      </task>
      <task>
        <p>
          Use the result of <xref ref="A_constructinverse2"/> to verify that for each <m>x \in \R</m>,
          <m>f^{ - 1} \!\left( {f( x )} \right) = x</m> and for each <m>y \in \R</m>,
          <m>f \!\left( {f^{ - 1} ( y )} \right) = y</m>.
        </p>
      </task>
      <task xml:id="exer_constructinversea">
        <p>
          Now let <m>\R^+ = \left\{ { {y \in \mathbb{R}} \mid y > 0} \right\}</m>.
          Define <m>g \x \mathbb{R} \to \R^+</m> by <m>g( x ) = e^{2x - 1}</m>.
        </p>
        <p>
          Set <m>y = e^{2x - 1}</m> and solve for <m>x</m> in terms of <m>y</m>.
        </p>
      </task>
      <task>
        <p>
          Use your work in <xref ref="exer_constructinversea"/> to define a function 
          <m>h\x \mathbb{R}^ + \to \mathbb{R}</m>.
        </p>
      </task>
      <task>
        <p>
          For each <m>x \in \mathbb{R}</m>,
          determine <m>( {h \circ g} )( x )</m> and for each <m>y \in \mathbb{R}^ +</m>,
          determine <m>( {g \circ h} )( y )</m>.
        </p>
      </task>
      <task>
        <p>
          Use <xref ref="exer_compequalidentity"/> to explain why <m>h = g^{ - 1}</m>.
        </p>
      </task>
    </activity>

    <activity xml:id="A_inversesine">
      <title>The Inverse Sine Function</title>

      <introduction>
        <p>
          We have seen that in order to obtain an inverse function,
          it is sometimes necessary to restrict the domain
          (or the codomain)
          of a function.
        </p>
      </introduction>

      <task xml:id="A_inversesine1">
        <p>
          Let <m>f\x \R \to \R</m> be defined by <m>f( x ) = \sin x</m>.
          Explain why the inverse of the function <m>f</m> is not a function. (A graph may be helpful.)
        </p>
      </task>

      <task xml:id="A_inversesine2">
        <p>
          Notice that if we use the ordered pair representation, then the sine function can be represented as
          <me>
            f  = \left\{ { {( {x, y} ) \in \R \times \R } \mid y = \sin x} \right\}\!
          </me>.
          If we denote the inverse of the sine function by  <m>\sin ^{ - 1}</m>, then
          <me>
            f^{ - 1}  = \left\{ { {( {y, x} ) \in \R \times \R } \mid y = \sin x} \right\}\!
          </me>.
          <xref ref="A_inversesine1"/> proves that  <m>f^{ - 1}</m>  is not a function. 
          However, in previous mathematics courses, we frequently used the
          <q>inverse sine function.</q>
          This is not really the inverse of the sine function as defined in 
          <xref ref="A_inversesine1"/> but, rather, it is the inverse of the sine 
          function <term>restricted to the domain</term> <m>\left[ {-\dfrac{{\pi }}{2}, \dfrac{\pi }{2}} \right]</m>.
        </p>
        <p>
          Explain why the function <m>F\x \left[ {- \dfrac{{\pi }}{2}, \dfrac{\pi }{2}} \right] 
          \to \left[ { - 1, 1} \right]</m> defined by <m>F( x ) = \sin x</m> is a bijection.
        </p>
      </task>
      <task xml:id="inversesine">
        <p>
          The inverse of the function in <xref ref="A_inversesine2"/> is itself a function and 
          is called the <term>inverse sine function</term>
          <idx><h>inverse sine function</h></idx>
          (or sometimes the <term>arcsine function</term>).
           <idx><h>arcsine function</h></idx>
        </p>
        <p>
          What is the domain of the inverse sine function?
          What are the range and codomain of the inverse sine function?
        </p>
      </task>

      <task xml:id="restrictedsine">
        <p>
          Let us now use  <m>F ( x ) = \text{ Sin }  ( x )</m> to represent the restricted 
          sine function in <xref ref="A_inversesine2"/>. Therefore, 
          <m>F^{-1} ( x ) = \text{ Sin } ^{ - 1} ( x )</m> can be used to represent the inverse sine function.  Observe that
        <me>
          F\x \left[ -{\frac{{\pi }}{2}, \frac{\pi }{2}} \right] \to \left[ { - 1, 1} \right] 
          \text{ and } F^{ - 1} \x \left[ { - 1, 1} \right] \to \left[ -{\frac{{\pi }}{2}, 
          \frac{\pi } {2}} \right]
        </me>.
        </p>
        <p>
          Using this notation, explain why
          <blockquote>
            <m>\text{ Sin } ^{ - 1} y = x \text{ if and only if } 
            \left[ {y = \sin x\text{ and } -\dfrac{{\pi }}{2} \leq x \leq \dfrac{\pi } {2}} \right]</m>; 
          </blockquote>
          <blockquote>
            <m>\text{ Sin } \!\left( \text{ Sin } ^{-1} ( y ) \right) = y</m> for all 
            <m>y \in \left[ -1, 1 \right]</m>; and 
          </blockquote>
          <blockquote>
            <m>\text{ Sin } ^{-1} \!\left( \text{ Sin } ( x ) \right) = x</m> for all 
            <m>x \in \left[ - \dfrac{\pi}{2}, \dfrac{\pi}{2} \right]</m>.
          </blockquote>
        </p>
      </task>
    </activity>

  </exercises>

</section>